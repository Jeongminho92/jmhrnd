#include <SoftwareSerial.h>

SoftwareSerial mySerial(6, 7); // RX, TX
double val = 0;
String str = "";

void setup() {
  pinMode(2, OUTPUT); //led1
  pinMode(3, OUTPUT); //led2
  // Open serial communications and wait for port to open:
  Serial.begin(9600);
  while (!Serial) {
    ; // wait for serial port to connect. Needed for native USB port only
  }
  // set the data rate for the SoftwareSerial port
  mySerial.begin(9600);
}

void loop() { // run over and over
    val = analogRead(A0);
    if(mySerial.available())
    {
        char buf = mySerial.read(); //키보드 입력
        if(buf != '\n')
        {
          str += buf;
        }
        else
        {          
          if(str.equals("ledon")) //ledon 키보드 입력 시 led1, 2 on
          {
            digitalWrite(2, HIGH);
            digitalWrite(3, HIGH);
            str = "";
          }
          else if(str.equals("ledoff")) //ledoff 키보드 입력 시 led1, 2 off
          {
            digitalWrite(2, LOW);
            digitalWrite(3, LOW);
            str = "";
          }
         else if(str.equals("ledon1")) //ledon1 키보드 입력 시 led1 on
          {
            digitalWrite(2, HIGH);
            str = "";
          }
          else if(str.equals("ledoff1")) //ledoff1 키보드 입력 시 led1 off
          {
            digitalWrite(2, LOW);
            str = "";
          }
          else if(str.equals("ledon2")) //ledon2 키보드 입력 시 led2 on 
          {
            digitalWrite(3, HIGH);
            str = "";
          }
          else if(str.equals("ledoff2")) //ledoff2 키보드 입력 시 led2 off
          {
            digitalWrite(3, LOW);
            str = "";
          }
          else //키보드 입력값 초기화
          {
            Serial.write(mySerial.read());
            str = "";
          }
        }
     }
    if (Serial.available()) {
    mySerial.write(Serial.read());
  }
}
